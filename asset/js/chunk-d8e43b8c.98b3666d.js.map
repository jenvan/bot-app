{"version":3,"sources":["webpack:///./src/views/MyExchangePlan.vue","webpack:///./src/views/MyExchangePlan.vue?243b","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/views/MyExchangePlan.vue?8172"],"names":["class","title","show","state","showPicker1","round","position","columns","list1","columns-field-names","onConfirm1","showPicker2","list2","onConfirm2","length","border","title1","label","is-link","title2","name","label-width","right-icon","showTip","input","config","limit_task","step","min","max","limit_rate","limit_price","sid","block","type","onSubmit","components","BaseLayout","setup","list","id","pid","created","this","initPlan","$http","post","then","data","$toast","$router","push","concat","computed","name1","i","name2","methods","get","msg","message","duration","closeOnClick","obj","JSON","parse","stringify","render","__scopeId","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","k","len","E","A","n","arguments","TypeError"],"mappings":"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","file":"asset/js/chunk-d8e43b8c.98b3666d.js","sourcesContent":["<template>\n  <BaseLayout title=\"自动建仓\">\n    \n    <van-popup v-model:show=\"state.showPicker1\" round position=\"bottom\">\n      <van-picker title=\"选择推荐方案\" :columns=\"state.list1\" :columns-field-names=\"{text:'name'}\" @cancel=\"state.showPicker1 = false\" @confirm=\"onConfirm1\" />\n    </van-popup>\n    \n    <van-popup v-model:show=\"state.showPicker2\" round position=\"bottom\">\n      <van-picker title=\"选择策略模板\" :columns=\"state.list2\" :columns-field-names=\"{text:'name'}\" @cancel=\"state.showPicker2 = false\" @confirm=\"onConfirm2\" />\n    </van-popup>\n\n    <van-form class=\"form\">\n\n      <van-cell class=\"chooser\" :class=\"state.list1.length > 0 ? 'animate__animated animate__flash' : ''\" :border=\"false\" :title=\"title1\" :label=\"'共有 ' + state.list1.length + ' 个推荐方案'\" is-link @click=\"state.showPicker1 = true\" />\n      \n      <van-cell class=\"chooser\" :class=\"state.list2.length > 0 ? 'animate__animated animate__flash' : ''\" :border=\"false\" :title=\"title2\" :label=\"'共有 ' + state.list2.length + ' 个策略模板'\" is-link @click=\"state.showPicker2 = true\" />\n\n      <fieldset class=\"fields\" v-show=\"state.sid > 0\">\n        \n        <legend>所选方案参数设置</legend>\n\n        <van-field name=\"limit_task\" label=\"限制最大任务数\" label-width=\"180\" right-icon=\"warning-o\" @click-right-icon=\"showTip('允许同时进行的最大任务数')\">\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.config.limit_task\" step=\"1\" min=\"1\" max=\"100\" /></template>\n        </van-field>\n\n        <van-field name=\"limit_rate\" label=\"限制补仓率（补仓/建仓）\" label-width=\"180\" right-icon=\"warning-o\" @click-right-icon=\"showTip('推荐币种补仓次数与建仓次数的比值 < 设置比值时推荐（根据历史成交数据统计）')\">\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.config.limit_rate\" step=\"0.1\" min=\"0.1\" max=\"10\" /></template>\n        </van-field>\n\n        <van-field name=\"limit_price\" label=\"限制买入价（买入/卖出）\" label-width=\"180\" right-icon=\"warning-o\" @click-right-icon=\"showTip('买入价与最近60分钟内卖出价的比值 < 设置比值时推荐（根据历史成交数据统计）')\">\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.config.limit_price\" step=\"0.1\" min=\"0.01\" max=\"10\" /></template>\n        </van-field>\n\n      </fieldset>\n      \n      <van-button block class=\"submit\" type=\"primary\" @click=\"onSubmit\">保存</van-button>\n\n    </van-form>\n\n  </BaseLayout>\n</template>\n\n<style scoped>\n.form {\n  margin: 10px;\n  border-radius: 5px;\n}\n.chooser {\n  margin-top: 10px;\n  background: #F6F6F6;\n  border-radius: 5px;\n  border: solid 1px #DDD;\n  color: #000;\n}\n.fields {\n  margin: 15px 0;\n  padding: 0;\n  background: #FFF;\n  border-radius: 5px;\n  border: solid 1px #DDD;\n  overflow: hidden;\n}\nlegend {\n  margin-left: 10px;\n  padding: 5px;\n  background: #F6F6F6;\n  border-radius: 5px;\n  border: solid 1px #DDD;\n  font-size: 14px;\n  text-align: left;\n}\n.submit {\n  margin:10px 0;\n}\n</style>\n\n<script>\nimport {reactive} from 'vue'\nimport BaseLayout from '@/components/BaseLayout.vue'\n\nexport default {\n  components: {BaseLayout},\n\nsetup(){\n    const state = reactive({\n      showPicker1: false,\n      showPicker2: false,\n      list: [], // 自有计划配置\n      list1: [{id:1, name: \"快线：低点急速下跌时买入\"}, {id: 2, name: \"短线：低点上涨趋势时买入\"}],     // 所有方案\n      list2: [], // 自有策略\n      pid: 0,\n      sid: 0,\n      config: {\n        limit_task: 10,\n        limit_rate: 1.5,\n        limit_price: 1,\n      },\n    });\n\n    return { state };\n  },\n\n  created() {\n    this.initPlan();\n    this.$http.post(\"/exchange/strategylist\").then((data) => {\n      if (data.length == 0){\n        this.$toast(\"还没有策略模板，请先增加\");\n        return this.$router.push(\"/my/strategy/create\");\n      }\n      this.state.list2 = [{id: 0, name: \"【不使用选择的方案】\"}].concat(data);\n    });\n  },\n\n  computed: {\n    name1(){\n      let name = \"\";\n      for (let i in this.state.list1){\n        if (this.state.list1[i].id == this.state.pid){\n          name = this.state.list1[i].name;\n          break;\n        }\n      }\n      return name;\n    },\n    name2(){\n      let name = \"\";\n      for (let i in this.state.list2){\n        if (this.state.list2[i].id == this.state.sid){\n          name = this.state.list2[i].name;\n          break;\n        }\n      }\n      return name;\n    },\n    title1(){\n      return this.state.pid == 0 ? \"请先选择系统内置的推荐方案\" : \"符合【 \" + this.name1 + \" 】方案时\";\n    },\n    title2(){\n      if (this.state.pid == 0){\n        return \"请先选择上面的推荐方案\";\n      }\n      return this.state.sid == 0 ? \"【暂停推荐】\" : \"使用【 \" + this.name2 + \" 】策略逢低建仓\";\n    },\n  },\n\n  methods: {\n    initPlan(){\n      this.$http.get(\"/exchange/planlist\").then((data) => this.state.list = data);\n    },\n    showTip(msg){\n      this.$toast({message:msg, duration:0, closeOnClick:true});\n    },\n    onConfirm1(obj){\n      this.state.showPicker1 = false;\n      this.state.pid = obj.id;\n      if (this.state.list.length == 0) return;\n      for (let i in this.state.list){\n        if (this.state.list[i].pid == this.state.pid){\n          this.state.sid = this.state.list[i].sid;\n          this.state.config = JSON.parse(this.state.list[i].config);\n          break;\n        }\n      }\n    },\n    onConfirm2(obj){\n      this.state.showPicker2 = false;\n      if (this.state.pid == 0){\n        this.state.sid = 0;\n        return this.$toast(\"请先选择方案\");\n      }\n      this.state.sid = obj.id;\n      this.state.name2 = obj.name;\n    },\n    onSubmit(){\n      if (this.state.pid == 0)\n        return this.$toast(\"请先选择方案\");\n      \n      this.$http.post(\"/exchange/plansave\", {pid:this.state.pid, sid:this.state.sid, config:JSON.stringify(this.state.config)}).then(() => {\n        this.initPlan();\n      });\n    },\n  }\n\n}\n</script>\n","import { render } from \"./MyExchangePlan.vue?vue&type=template&id=55dfe5a4&scoped=true\"\nimport script from \"./MyExchangePlan.vue?vue&type=script&lang=js\"\nexport * from \"./MyExchangePlan.vue?vue&type=script&lang=js\"\n\nimport \"./MyExchangePlan.vue?vue&type=style&index=0&id=55dfe5a4&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-55dfe5a4\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MyExchangePlan.vue?vue&type=style&index=0&id=55dfe5a4&scoped=true&lang=css\""],"sourceRoot":""}